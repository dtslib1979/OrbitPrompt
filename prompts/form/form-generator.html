<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#0a0a0a">
<title>Form Generator â€” OrbitPrompt</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #050505;
  --bg-card: #0f0f0f;
  --bg-input: #141414;
  --bg-elevated: #1a1a1a;
  --text: #f0f0f0;
  --text-2: rgba(255,255,255,0.7);
  --text-3: rgba(255,255,255,0.4);
  --text-dim: rgba(255,255,255,0.15);
  --accent: #10b981;
  --accent-dim: rgba(16,185,129,0.12);
  --accent-glow: rgba(16,185,129,0.25);
  --gold: #d4af37;
  --gold-dim: rgba(212,175,55,0.12);
  --border: rgba(255,255,255,0.08);
  --f-sans: 'Inter', -apple-system, sans-serif;
  --f-mono: 'JetBrains Mono', monospace;
}
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: var(--f-sans);
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  padding: 1.5rem;
  line-height: 1.6;
}
.container { max-width: 680px; margin: 0 auto; }

/* Header */
header {
  text-align: center;
  padding: 1.5rem 0 2rem;
  border-bottom: 1px solid var(--border);
  margin-bottom: 2rem;
}
.tag {
  font-family: var(--f-mono);
  font-size: 0.5625rem;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--accent);
  background: var(--accent-dim);
  padding: 0.25rem 0.5rem;
  display: inline-block;
  margin-bottom: 0.75rem;
}
h1 {
  font-family: var(--f-mono);
  font-size: 1.5rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
}
.subtitle {
  font-size: 0.8125rem;
  color: var(--text-3);
}

/* Steps */
.steps {
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-bottom: 2rem;
  flex-wrap: wrap;
}
.step {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.4rem 0.75rem;
  background: var(--bg-card);
  border: 1px solid var(--border);
  font-family: var(--f-mono);
  font-size: 0.5625rem;
  color: var(--text-3);
}
.step.active {
  border-color: var(--accent);
  color: var(--accent);
}
.step-num {
  width: 18px;
  height: 18px;
  background: var(--accent-dim);
  color: var(--accent);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 0.5625rem;
}
.step.active .step-num {
  background: var(--accent);
  color: #000;
}

/* Section */
.section {
  background: var(--bg-card);
  border: 1px solid var(--border);
  margin-bottom: 1.25rem;
}
.section-header {
  padding: 0.875rem 1rem;
  border-bottom: 1px solid var(--border);
}
.section-title {
  font-family: var(--f-mono);
  font-size: 0.6875rem;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--accent);
}
.section-body {
  padding: 1rem;
}

/* Chips */
.chips {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}
.chip {
  padding: 0.5rem 0.75rem;
  background: var(--bg-input);
  border: 1px solid var(--border);
  font-family: var(--f-mono);
  font-size: 0.6875rem;
  color: var(--text-2);
  cursor: pointer;
  transition: all 0.15s;
}
.chip:hover {
  border-color: var(--accent);
}
.chip.selected {
  background: var(--accent-dim);
  border-color: var(--accent);
  color: var(--accent);
}
.chip-icon {
  margin-right: 0.25rem;
}

/* Multi-select chips (languages) */
.chip-multi.selected {
  background: var(--accent-dim);
  border-color: var(--accent);
  color: var(--accent);
}

/* Form elements */
.form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
}
@media (max-width: 480px) {
  .form-grid { grid-template-columns: 1fr; }
}
.form-group {
  display: flex;
  flex-direction: column;
  gap: 0.375rem;
}
.form-label {
  font-size: 0.625rem;
  font-weight: 500;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--text-3);
}
.form-select, .form-textarea {
  background: var(--bg-input);
  border: 1px solid var(--border);
  color: var(--text);
  font-family: inherit;
  font-size: 0.8125rem;
  padding: 0.625rem 0.75rem;
}
.form-select:focus, .form-textarea:focus {
  outline: none;
  border-color: var(--accent);
}
.form-textarea {
  min-height: 80px;
  resize: vertical;
  font-family: var(--f-mono);
  font-size: 0.75rem;
  line-height: 1.6;
}
.form-hint {
  font-size: 0.5625rem;
  color: var(--text-3);
}

/* Toggles */
.toggles {
  display: flex;
  flex-direction: column;
  gap: 0.625rem;
}
.toggle-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.625rem 0.75rem;
  background: var(--bg-input);
  border: 1px solid var(--border);
}
.toggle-info { flex: 1; }
.toggle-label { font-size: 0.8125rem; }
.toggle-desc {
  font-size: 0.5625rem;
  color: var(--text-3);
  margin-top: 0.125rem;
}
.toggle-switch {
  width: 40px;
  height: 22px;
  background: var(--border);
  border-radius: 11px;
  position: relative;
  cursor: pointer;
  transition: background 0.2s;
  flex-shrink: 0;
  margin-left: 0.75rem;
}
.toggle-switch.active {
  background: var(--accent);
}
.toggle-switch::after {
  content: '';
  position: absolute;
  top: 2px;
  left: 2px;
  width: 18px;
  height: 18px;
  background: #fff;
  border-radius: 50%;
  transition: transform 0.2s;
}
.toggle-switch.active::after {
  transform: translateX(18px);
}

/* Preview */
.preview-box {
  margin-top: 1rem;
  padding: 1rem;
  background: var(--bg-input);
  border: 1px solid var(--border);
  font-family: var(--f-mono);
  font-size: 0.6875rem;
  line-height: 1.7;
  color: var(--text-2);
}
.preview-title {
  font-size: 0.5625rem;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--text-3);
  margin-bottom: 0.5rem;
}
.preview-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 0.25rem 1rem;
  padding: 0.375rem 0;
  border-bottom: 1px solid var(--border);
}
.preview-row:last-child { border-bottom: none; }
.preview-cell {
  display: flex;
  flex-direction: column;
}
.preview-lang {
  font-size: 0.5rem;
  color: var(--accent);
  letter-spacing: 0.1em;
}

/* Buttons */
.btn {
  padding: 0.75rem 1.25rem;
  border: none;
  font-family: inherit;
  font-size: 0.6875rem;
  font-weight: 500;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  cursor: pointer;
  transition: all 0.15s;
}
.btn-primary {
  background: var(--accent);
  color: #000;
  width: 100%;
  margin-top: 1.5rem;
  padding: 1rem;
  font-weight: 600;
}
.btn-primary:hover { filter: brightness(1.1); }
.btn-secondary {
  background: transparent;
  border: 1px solid var(--border);
  color: var(--text-2);
}
.btn-secondary:hover {
  border-color: var(--accent);
  color: var(--accent);
}
.btn-gold {
  background: var(--gold);
  color: #000;
  font-weight: 600;
}
.btn-gold:hover { filter: brightness(1.1); }

/* Output */
.output-section {
  background: var(--bg-card);
  border: 2px solid var(--gold);
  display: none;
  margin-top: 1.5rem;
}
.output-header {
  background: var(--gold-dim);
  padding: 0.875rem 1rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 1px solid var(--gold);
}
.output-title {
  font-family: var(--f-mono);
  font-size: 0.6875rem;
  font-weight: 600;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--gold);
}
.output-body { padding: 1rem; }
.output-prompt {
  background: var(--bg-input);
  border: 1px solid var(--border);
  padding: 1rem;
  font-family: var(--f-mono);
  font-size: 0.6875rem;
  line-height: 1.7;
  color: var(--text-2);
  white-space: pre-wrap;
  max-height: 450px;
  overflow-y: auto;
}
.philosophy-note {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  margin-top: 1rem;
  padding: 0.875rem;
  background: var(--accent-dim);
  border-left: 3px solid var(--accent);
}
.philosophy-icon { font-size: 1.125rem; flex-shrink: 0; }
.philosophy-note p {
  font-size: 0.75rem;
  line-height: 1.6;
  color: var(--text-2);
}
.philosophy-note strong { color: var(--accent); }
.btn-row {
  display: flex;
  gap: 0.75rem;
  margin-top: 1rem;
}
.btn-full { flex: 1; padding: 0.875rem; }

/* Footer */
footer {
  text-align: center;
  padding: 2rem 0 1rem;
  border-top: 1px solid var(--border);
  margin-top: 2rem;
}
.footer-link {
  font-family: var(--f-mono);
  font-size: 0.625rem;
  color: var(--text-3);
  text-decoration: none;
}
.footer-link:hover { color: var(--accent); }
</style>
</head>
<body>
<div class="container">
  <header>
    <span class="tag">Prompt Engine</span>
    <h1>Form Generator</h1>
    <p class="subtitle">ì„œì‹ ì„ íƒ Ã— ì–¸ì–´ ì„ íƒ â†’ ë‹¤êµ­ì–´ ì¸í„°ë™í‹°ë¸Œ ì„œì‹ í”„ë¡¬í”„íŠ¸</p>
  </header>

  <div class="steps">
    <div class="step active"><span class="step-num">1</span> ì„œì‹ ì„ íƒ</div>
    <div class="step"><span class="step-num">2</span> ì–¸ì–´ ì„ íƒ</div>
    <div class="step"><span class="step-num">3</span> ì˜µì…˜ ì„¤ì •</div>
    <div class="step"><span class="step-num">4</span> í”„ë¡¬í”„íŠ¸ ìƒì„±</div>
  </div>

  <!-- Step 1: Form Type -->
  <div class="section">
    <div class="section-header">
      <span class="section-title">1. ì„œì‹ ì¢…ë¥˜</span>
    </div>
    <div class="section-body">
      <div class="chips" id="formTypeChips">
        <div class="chip selected" data-value="prescription" onclick="selectFormType(this)">
          <span class="chip-icon">ğŸ’Š</span>ì²˜ë°©ì „
        </div>
        <div class="chip" data-value="swift-mt103" onclick="selectFormType(this)">
          <span class="chip-icon">ğŸ¦</span>SWIFT MT103
        </div>
        <div class="chip" data-value="contract" onclick="selectFormType(this)">
          <span class="chip-icon">ğŸ“œ</span>ê³„ì•½ì„œ
        </div>
        <div class="chip" data-value="diagnosis" onclick="selectFormType(this)">
          <span class="chip-icon">ğŸ©º</span>ì§„ë‹¨ì„œ
        </div>
        <div class="chip" data-value="resume" onclick="selectFormType(this)">
          <span class="chip-icon">ğŸ“„</span>ì´ë ¥ì„œ
        </div>
        <div class="chip" data-value="invoice" onclick="selectFormType(this)">
          <span class="chip-icon">ğŸ§¾</span>ì¸ë³´ì´ìŠ¤
        </div>
        <div class="chip" data-value="government" onclick="selectFormType(this)">
          <span class="chip-icon">ğŸ›ï¸</span>ê´€ê³µì„œ ì„œì‹
        </div>
        <div class="chip" data-value="customs" onclick="selectFormType(this)">
          <span class="chip-icon">ğŸ“¦</span>ì„¸ê´€ ì‹ ê³ ì„œ
        </div>
        <div class="chip" data-value="immigration" onclick="selectFormType(this)">
          <span class="chip-icon">âœˆï¸</span>ì¶œì…êµ­ ì¹´ë“œ
        </div>
        <div class="chip" data-value="custom" onclick="selectFormType(this)">
          <span class="chip-icon">âœï¸</span>ì»¤ìŠ¤í…€
        </div>
      </div>
      <div id="customFormType" style="display:none; margin-top: 0.75rem;">
        <div class="form-group">
          <label class="form-label">ì„œì‹ëª…</label>
          <input type="text" class="form-select" id="customFormName" placeholder="ì˜ˆ: ë¶€ë™ì‚° ë§¤ë§¤ ê³„ì•½ì„œ, ìš´ì „ë©´í—ˆ ì‹ ì²­ì„œ...">
        </div>
      </div>
    </div>
  </div>

  <!-- Step 2: Languages -->
  <div class="section">
    <div class="section-header">
      <span class="section-title">2. ì–¸ì–´ ì„ íƒ (ë‹¤ì¤‘ ì„ íƒ)</span>
    </div>
    <div class="section-body">
      <div class="chips" id="langChips">
        <div class="chip chip-multi selected" data-value="en" onclick="toggleLang(this)">
          <span class="chip-icon">ğŸ‡¬ğŸ‡§</span>English
        </div>
        <div class="chip chip-multi selected" data-value="ko" onclick="toggleLang(this)">
          <span class="chip-icon">ğŸ‡°ğŸ‡·</span>í•œêµ­ì–´
        </div>
        <div class="chip chip-multi" data-value="ja" onclick="toggleLang(this)">
          <span class="chip-icon">ğŸ‡¯ğŸ‡µ</span>æ—¥æœ¬èª
        </div>
        <div class="chip chip-multi" data-value="zh" onclick="toggleLang(this)">
          <span class="chip-icon">ğŸ‡¨ğŸ‡³</span>ä¸­æ–‡
        </div>
        <div class="chip chip-multi" data-value="es" onclick="toggleLang(this)">
          <span class="chip-icon">ğŸ‡ªğŸ‡¸</span>EspaÃ±ol
        </div>
        <div class="chip chip-multi" data-value="fr" onclick="toggleLang(this)">
          <span class="chip-icon">ğŸ‡«ğŸ‡·</span>FranÃ§ais
        </div>
        <div class="chip chip-multi" data-value="de" onclick="toggleLang(this)">
          <span class="chip-icon">ğŸ‡©ğŸ‡ª</span>Deutsch
        </div>
        <div class="chip chip-multi" data-value="ar" onclick="toggleLang(this)">
          <span class="chip-icon">ğŸ‡¸ğŸ‡¦</span>Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
        </div>
      </div>
      <p class="form-hint" style="margin-top: 0.5rem;">ìµœì†Œ 2ê°œ ì–¸ì–´ ì„ íƒ. ê°™ì€ ì„œì‹ì„ ì„ íƒí•œ ì–¸ì–´ë¡œ ë²„í‹°ì»¬ ë¹„êµí•©ë‹ˆë‹¤.</p>
    </div>
  </div>

  <!-- Step 3: Options -->
  <div class="section">
    <div class="section-header">
      <span class="section-title">3. í‘œì‹œ ì˜µì…˜</span>
    </div>
    <div class="section-body">
      <div class="form-grid">
        <div class="form-group">
          <label class="form-label">í‘œì‹œ ëª¨ë“œ</label>
          <select class="form-select" id="displayMode">
            <option value="toggle">í† ê¸€ (í•œ ì–¸ì–´ì”© ì „í™˜)</option>
            <option value="vertical">ë²„í‹°ì»¬ (ì„¸ë¡œ ë¹„êµ)</option>
            <option value="both" selected>Both (í† ê¸€ + ë²„í‹°ì»¬)</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">ë‚œì´ë„ í‘œì‹œ</label>
          <select class="form-select" id="difficultyLevel">
            <option value="beginner">ì´ˆê¸‰ (í•µì‹¬ ìš©ì–´ í•˜ì´ë¼ì´íŠ¸)</option>
            <option value="intermediate" selected>ì¤‘ê¸‰ (ì „ë¬¸ ìš©ì–´ í¬í•¨)</option>
            <option value="advanced">ê³ ê¸‰ (ë²•ë¥ /ì „ë¬¸ ì›ë¬¸)</option>
          </select>
        </div>
      </div>

      <div class="toggles" style="margin-top: 1rem;">
        <div class="toggle-row">
          <div class="toggle-info">
            <div class="toggle-label">ì¸í„°ë™í‹°ë¸Œ ë¹ˆì¹¸</div>
            <div class="toggle-desc">ì§ì ‘ ì…ë ¥í•˜ë©´ì„œ ì—°ìŠµí•˜ëŠ” í•„ë“œ</div>
          </div>
          <div class="toggle-switch active" data-key="fillable" onclick="toggleSwitch(this)"></div>
        </div>
        <div class="toggle-row">
          <div class="toggle-info">
            <div class="toggle-label">ìš©ì–´ í•´ì„¤ íˆ´íŒ</div>
            <div class="toggle-desc">ì „ë¬¸ ìš©ì–´ í„°ì¹˜ ì‹œ ëœ» í‘œì‹œ</div>
          </div>
          <div class="toggle-switch active" data-key="glossary" onclick="toggleSwitch(this)"></div>
        </div>
        <div class="toggle-row">
          <div class="toggle-info">
            <div class="toggle-label">ë°œìŒ ê°€ì´ë“œ</div>
            <div class="toggle-desc">ì¼ë³¸ì–´/ì¤‘êµ­ì–´ ì½ê¸° ë³´ì¡° (í›„ë¦¬ê°€ë‚˜/ë³‘ìŒ)</div>
          </div>
          <div class="toggle-switch active" data-key="pronunciation" onclick="toggleSwitch(this)"></div>
        </div>
        <div class="toggle-row">
          <div class="toggle-info">
            <div class="toggle-label">í‹°ìŠ¤í† ë¦¬ í˜¸í™˜ ëª¨ë“œ</div>
            <div class="toggle-desc">ê³ ê¸‰ JS ì œê±°, í‹°ìŠ¤í† ë¦¬/ë¸”ë¡œê·¸ ì‚½ì…ìš©</div>
          </div>
          <div class="toggle-switch" data-key="tistory" onclick="toggleSwitch(this)"></div>
        </div>
        <div class="toggle-row">
          <div class="toggle-info">
            <div class="toggle-label">ìƒ˜í”Œ ë°ì´í„° í¬í•¨</div>
            <div class="toggle-desc">ì‹¤ì œ ì˜ˆì‹œ ë°ì´í„°ë¡œ ì±„ìš´ ìƒíƒœ</div>
          </div>
          <div class="toggle-switch active" data-key="sampleData" onclick="toggleSwitch(this)"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Step 4: Context -->
  <div class="section">
    <div class="section-header">
      <span class="section-title">4. ì¶”ê°€ ì„¤ì • (ì„ íƒ)</span>
    </div>
    <div class="section-body">
      <div class="form-group">
        <label class="form-label">íŠ¹ì • ë¶„ì•¼/ì»¨í…ìŠ¤íŠ¸</label>
        <textarea class="form-textarea" id="context" placeholder="ì˜ˆ: ì •í˜•ì™¸ê³¼ ì§„ë‹¨ì„œ, ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ê³„ì•½ì„œ, ì‹í’ˆ ìˆ˜ì¶œ ì¸ë³´ì´ìŠ¤..."></textarea>
        <span class="form-hint">êµ¬ì²´ì  ë¶„ì•¼ë¥¼ ëª…ì‹œí•˜ë©´ í•´ë‹¹ ë¶„ì•¼ ì „ë¬¸ ìš©ì–´ê°€ í¬í•¨ë©ë‹ˆë‹¤</span>
      </div>
      <div class="form-group" style="margin-top: 0.75rem;">
        <label class="form-label">ì¶”ê°€ ìš”êµ¬ì‚¬í•­</label>
        <textarea class="form-textarea" id="requirements" placeholder="ì˜ˆ: ìƒ‰ìƒ í…Œë§ˆë¥¼ ë”°ëœ»í•œ í†¤ìœ¼ë¡œ, í°íŠ¸ í¬ê¸° í¬ê²Œ, ì¸ì‡„ ë²„íŠ¼ ì¶”ê°€..."></textarea>
      </div>
    </div>
  </div>

  <!-- Preview -->
  <div class="section">
    <div class="section-header">
      <span class="section-title">ë¯¸ë¦¬ë³´ê¸°</span>
    </div>
    <div class="section-body">
      <div class="preview-box" id="previewBox">
        <div class="preview-title">ì„ íƒëœ ì„œì‹ Ã— ì–¸ì–´ ë§¤íŠ¸ë¦­ìŠ¤</div>
        <div id="previewContent"></div>
      </div>
    </div>
  </div>

  <!-- Generate -->
  <button class="btn btn-primary" onclick="generatePrompt()">í”„ë¡¬í”„íŠ¸ ìƒì„±</button>

  <!-- Output -->
  <div class="section output-section" id="outputSection">
    <div class="output-header">
      <span class="output-title">ìƒì„±ëœ í”„ë¡¬í”„íŠ¸</span>
      <button class="btn btn-secondary" onclick="copyPrompt()">ë³µì‚¬</button>
    </div>
    <div class="output-body">
      <div class="output-prompt" id="outputPrompt"></div>
      <div class="philosophy-note">
        <span class="philosophy-icon">ğŸ’¡</span>
        <p>ì´ í”„ë¡¬í”„íŠ¸ë¥¼ ChatGPT / Claudeì— ë¶™ì—¬ë„£ìœ¼ë©´ <strong>ì¸í„°ë™í‹°ë¸Œ ë‹¤êµ­ì–´ ì„œì‹ í˜ì´ì§€</strong>ê°€ ìƒì„±ë©ë‹ˆë‹¤.<br>
        í‹°ìŠ¤í† ë¦¬, ë¸”ë¡œê·¸, GitHub Pagesì— ì˜¬ë ¤ì„œ ì–´í•™ í•™ìŠµ ìë£Œë¡œ í™œìš©í•˜ì„¸ìš”.</p>
      </div>
      <div class="btn-row">
        <button class="btn btn-gold btn-full" onclick="openClaude()">Claudeì—ì„œ ì—´ê¸° â†’</button>
        <button class="btn btn-secondary btn-full" onclick="copyPrompt()">í´ë¦½ë³´ë“œ ë³µì‚¬</button>
      </div>
    </div>
  </div>

  <footer>
    <a href="../../index.html" class="footer-link">â† OrbitPrompt</a>
  </footer>
</div>

<script>
// State
const state = {
  formType: 'prescription',
  customFormName: '',
  languages: ['en', 'ko'],
  displayMode: 'both',
  difficulty: 'intermediate',
  fillable: true,
  glossary: true,
  pronunciation: true,
  tistory: false,
  sampleData: true,
  context: '',
  requirements: ''
};

// Form type definitions
const formTypes = {
  'prescription': {
    name: 'ì²˜ë°©ì „',
    nameEn: 'Medical Prescription',
    fields: ['í™˜ìëª…/Patient Name', 'ìƒë…„ì›”ì¼/Date of Birth', 'ì§„ë‹¨ëª…/Diagnosis', 'ì•½í’ˆëª…/Medication', 'ìš©ë²•Â·ìš©ëŸ‰/Dosage', 'íˆ¬ì•½ ê¸°ê°„/Duration', 'ì˜ì‚¬ëª…/Physician', 'ì˜ë£Œê¸°ê´€/Medical Institution', 'ë©´í—ˆë²ˆí˜¸/License No.', 'ì²˜ë°©ì¼/Date of Issue']
  },
  'swift-mt103': {
    name: 'SWIFT MT103 (ì†¡ê¸ˆ ì „ë¬¸)',
    nameEn: 'SWIFT MT103 Wire Transfer',
    fields: ['ê±°ë˜ ì°¸ì¡°ë²ˆí˜¸/:20 Transaction Reference', 'ê²°ì œì¼Â·ê¸ˆì•¡/:32A Value Date/Amount', 'í†µí™”/:32A Currency', 'ì†¡ê¸ˆ ì˜ë¢°ì¸/:50K Ordering Customer', 'ì†¡ê¸ˆ ì€í–‰/:52A Sender Bank', 'ìˆ˜ì·¨ ì€í–‰/:57A Beneficiary Bank', 'ìˆ˜ì·¨ì¸/:59 Beneficiary', 'ì†¡ê¸ˆ ëª©ì /:70 Remittance Info', 'ìˆ˜ìˆ˜ë£Œ ë¶€ë‹´/:71A Charges (OUR/SHA/BEN)', 'ê·œì œ ë³´ê³ /:72 Regulatory Reporting']
  },
  'contract': {
    name: 'ê³„ì•½ì„œ',
    nameEn: 'Contract',
    fields: ['ê³„ì•½ ë‹¹ì‚¬ì/Parties', 'ê³„ì•½ ëª©ì /Purpose', 'ê³„ì•½ ê¸°ê°„/Term', 'ëŒ€ê¸ˆ/Consideration', 'ì´í–‰ ì¡°ê±´/Performance Terms', 'ìœ„ì•½ ì¡°í•­/Penalty Clause', 'ë¶ˆê°€í•­ë ¥/Force Majeure', 'ì¤€ê±°ë²•/Governing Law', 'ê´€í•  ë²•ì›/Jurisdiction', 'ì„œëª…ì¼/Date of Execution']
  },
  'diagnosis': {
    name: 'ì§„ë‹¨ì„œ',
    nameEn: 'Medical Certificate',
    fields: ['í™˜ì ì„±ëª…/Patient Name', 'ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸/ID Number', 'ì§„ë‹¨ëª…/Diagnosis', 'ì§ˆë³‘ ì½”ë“œ/ICD Code', 'ì†Œê²¬/Clinical Findings', 'í–¥í›„ ì¹˜ë£Œ ì˜ê²¬/Treatment Plan', 'ìš©ë„/Purpose', 'ë°œê¸‰ì¼/Date of Issue', 'ì˜ë£Œê¸°ê´€ëª…/Hospital Name', 'ë‹´ë‹¹ì˜ì‚¬/Attending Physician']
  },
  'resume': {
    name: 'ì´ë ¥ì„œ',
    nameEn: 'Resume / CV',
    fields: ['ì„±ëª…/Full Name', 'ì—°ë½ì²˜/Contact', 'í•™ë ¥/Education', 'ê²½ë ¥ ì‚¬í•­/Work Experience', 'ìê²©ì¦/Certifications', 'ê¸°ìˆ  ìŠ¤íƒ/Skills', 'ìê¸°ì†Œê°œ/Personal Statement', 'í¬ë§ ì§ì¢…/Desired Position', 'í¬ë§ ì—°ë´‰/Expected Salary', 'ì°¸ê³ ì¸/References']
  },
  'invoice': {
    name: 'ì¸ë³´ì´ìŠ¤',
    nameEn: 'Commercial Invoice',
    fields: ['ì¸ë³´ì´ìŠ¤ ë²ˆí˜¸/Invoice No.', 'ë°œí–‰ì¼/Date of Issue', 'ê³µê¸‰ì/Seller', 'êµ¬ë§¤ì/Buyer', 'í’ˆëª…/Description of Goods', 'ìˆ˜ëŸ‰/Quantity', 'ë‹¨ê°€/Unit Price', 'ì´ì•¡/Total Amount', 'ê²°ì œ ì¡°ê±´/Payment Terms', 'ì¸ì½”í…€ì¦ˆ/Incoterms']
  },
  'government': {
    name: 'ê´€ê³µì„œ ì„œì‹',
    nameEn: 'Government Form',
    fields: ['ì‹ ì²­ì¸/Applicant', 'ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸/ID Number', 'ì£¼ì†Œ/Address', 'ì‹ ì²­ ì‚¬ìœ /Purpose', 'êµ¬ë¹„ ì„œë¥˜/Required Documents', 'ìˆ˜ìˆ˜ë£Œ/Fee', 'ì²˜ë¦¬ ê¸°ê°„/Processing Time', 'ì ‘ìˆ˜ì¼/Date Received', 'ë‹´ë‹¹ ë¶€ì„œ/Department', 'ì²˜ë¦¬ ê²°ê³¼/Result']
  },
  'customs': {
    name: 'ì„¸ê´€ ì‹ ê³ ì„œ',
    nameEn: 'Customs Declaration',
    fields: ['ì‹ ê³ ì¸/Declarant', 'ì…ì¶œí•­ì¼/Date of Arrival', 'ìš´ì†¡ ìˆ˜ë‹¨/Means of Transport', 'ì í•˜ëª©ë¡/Manifest', 'í’ˆëª…Â·ìˆ˜ëŸ‰/Goods & Quantity', 'ì‹ ê³  ê°€ê²©/Declared Value', 'ì›ì‚°ì§€/Country of Origin', 'HS ì½”ë“œ/HS Code', 'ê´€ì„¸ìœ¨/Duty Rate', 'ê²€ì‚¬ ì—¬ë¶€/Inspection']
  },
  'immigration': {
    name: 'ì¶œì…êµ­ ì¹´ë“œ',
    nameEn: 'Arrival/Departure Card',
    fields: ['ì„±ëª…/Full Name', 'êµ­ì /Nationality', 'ì—¬ê¶Œ ë²ˆí˜¸/Passport No.', 'ìƒë…„ì›”ì¼/Date of Birth', 'ì„±ë³„/Sex', 'í•­ê³µí¸/Flight No.', 'ì²´ë¥˜ ëª©ì /Purpose of Visit', 'ì²´ë¥˜ ì£¼ì†Œ/Address in Country', 'ì²´ë¥˜ ê¸°ê°„/Duration of Stay', 'ì„œëª…/Signature']
  },
  'custom': {
    name: 'ì»¤ìŠ¤í…€',
    nameEn: 'Custom Form',
    fields: []
  }
};

// Language labels
const langLabels = {
  en: { name: 'English', flag: 'ğŸ‡¬ğŸ‡§' },
  ko: { name: 'í•œêµ­ì–´', flag: 'ğŸ‡°ğŸ‡·' },
  ja: { name: 'æ—¥æœ¬èª', flag: 'ğŸ‡¯ğŸ‡µ' },
  zh: { name: 'ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³' },
  es: { name: 'EspaÃ±ol', flag: 'ğŸ‡ªğŸ‡¸' },
  fr: { name: 'FranÃ§ais', flag: 'ğŸ‡«ğŸ‡·' },
  de: { name: 'Deutsch', flag: 'ğŸ‡©ğŸ‡ª' },
  ar: { name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', flag: 'ğŸ‡¸ğŸ‡¦' }
};

// Event handlers
function selectFormType(el) {
  document.querySelectorAll('#formTypeChips .chip').forEach(c => c.classList.remove('selected'));
  el.classList.add('selected');
  state.formType = el.dataset.value;

  const customEl = document.getElementById('customFormType');
  customEl.style.display = state.formType === 'custom' ? 'block' : 'none';

  updatePreview();
}

function toggleLang(el) {
  el.classList.toggle('selected');
  const lang = el.dataset.value;
  if (el.classList.contains('selected')) {
    if (!state.languages.includes(lang)) state.languages.push(lang);
  } else {
    state.languages = state.languages.filter(l => l !== lang);
  }
  updatePreview();
}

function toggleSwitch(el) {
  el.classList.toggle('active');
  state[el.dataset.key] = el.classList.contains('active');
}

function updatePreview() {
  const form = formTypes[state.formType];
  const preview = document.getElementById('previewContent');

  if (state.languages.length < 2) {
    preview.innerHTML = '<div style="color: var(--text-3); text-align: center; padding: 1rem;">ì–¸ì–´ë¥¼ 2ê°œ ì´ìƒ ì„ íƒí•˜ì„¸ìš”</div>';
    return;
  }

  const fields = form.fields.slice(0, 4);
  let html = '';

  fields.forEach(field => {
    const parts = field.split('/');
    html += '<div class="preview-row">';
    state.languages.forEach(lang => {
      const label = lang === 'ko' ? parts[0] : (lang === 'en' ? parts[1] : langLabels[lang].name);
      html += `<div class="preview-cell">
        <span class="preview-lang">${langLabels[lang].flag} ${lang.toUpperCase()}</span>
        <span>${label}</span>
      </div>`;
    });
    html += '</div>';
  });

  if (form.fields.length > 4) {
    html += `<div style="text-align: center; color: var(--text-3); font-size: 0.5625rem; padding-top: 0.5rem;">... ì™¸ ${form.fields.length - 4}ê°œ í•„ë“œ</div>`;
  }

  preview.innerHTML = html;
}

function generatePrompt() {
  state.displayMode = document.getElementById('displayMode').value;
  state.difficulty = document.getElementById('difficultyLevel').value;
  state.context = document.getElementById('context').value;
  state.requirements = document.getElementById('requirements').value;
  if (state.formType === 'custom') {
    state.customFormName = document.getElementById('customFormName').value;
  }

  const form = formTypes[state.formType];
  const formName = state.formType === 'custom' ? (state.customFormName || 'ì‚¬ìš©ì ì •ì˜ ì„œì‹') : form.name;
  const formNameEn = state.formType === 'custom' ? (state.customFormName || 'Custom Form') : form.nameEn;
  const selectedLangs = state.languages.map(l => `${langLabels[l].flag} ${langLabels[l].name} (${l})`).join(', ');

  const diffDesc = {
    beginner: 'ì´ˆê¸‰ â€” í•µì‹¬ ìš©ì–´ë§Œ í•˜ì´ë¼ì´íŠ¸, ì‰¬ìš´ ì„¤ëª… ë³‘ê¸°',
    intermediate: 'ì¤‘ê¸‰ â€” ì‹¤ë¬´ ì „ë¬¸ ìš©ì–´ í¬í•¨, ì•½ì–´ í•´ì„¤',
    advanced: 'ê³ ê¸‰ â€” ë²•ë¥ /ì˜ë£Œ/ê¸ˆìœµ ì›ë¬¸ ìˆ˜ì¤€, ê°ì£¼ í¬í•¨'
  };

  const displayDesc = {
    toggle: 'í† ê¸€ ëª¨ë“œ â€” ìƒë‹¨ ì–¸ì–´ íƒ­ìœ¼ë¡œ ì „ì²´ ì„œì‹ì„ í•´ë‹¹ ì–¸ì–´ë¡œ ì „í™˜',
    vertical: 'ë²„í‹°ì»¬ ëª¨ë“œ â€” ê° í•„ë“œë§ˆë‹¤ ëª¨ë“  ì–¸ì–´ë¥¼ ì„¸ë¡œë¡œ ë‚˜ë€íˆ í‘œì‹œ',
    both: 'ë“€ì–¼ ëª¨ë“œ â€” í† ê¸€(ì „ì²´ ì „í™˜) + ë²„í‹°ì»¬(ì„¸ë¡œ ë¹„êµ) ë‘˜ ë‹¤ ì§€ì›, ìƒë‹¨ ëª¨ë“œ ìŠ¤ìœ„ì¹˜ë¡œ ì „í™˜'
  };

  let fieldsSection = '';
  if (form.fields.length > 0) {
    fieldsSection = `
## ì„œì‹ í•„ë“œ ëª©ë¡
ì´ ì„œì‹ì— í¬í•¨ë˜ì–´ì•¼ í•  í•„ë“œ:
${form.fields.map((f, i) => `${i + 1}. ${f}`).join('\n')}

ìœ„ í•„ë“œë¥¼ ì„ íƒëœ ëª¨ë“  ì–¸ì–´(${state.languages.join(', ')})ë¡œ ì •í™•í•˜ê²Œ ë²ˆì—­í•˜ì—¬ í‘œì‹œí•  ê²ƒ.`;
  }

  const prompt = `# ë‹¤êµ­ì–´ ì¸í„°ë™í‹°ë¸Œ ì„œì‹ í˜ì´ì§€ ìƒì„± ìš”ì²­

## ëª©ì 
ì–´í•™ í•™ìŠµìš© ì¸í„°ë™í‹°ë¸Œ ì„œì‹ í˜ì´ì§€. í•˜ë‚˜ì˜ ì„œì‹ì„ ì—¬ëŸ¬ ì–¸ì–´ë¡œ ë³´ì—¬ì£¼ì–´ ê°™ì€ ë§¥ë½ì˜ ì „ë¬¸ ìš©ì–´ë¥¼ í•œëˆˆì— ë¹„êµ í•™ìŠµí•  ìˆ˜ ìˆê²Œ í•œë‹¤.

## ì„œì‹ ì •ë³´
- **ì„œì‹ ì¢…ë¥˜:** ${formName} (${formNameEn})
- **ëŒ€ìƒ ì–¸ì–´:** ${selectedLangs}
- **ë‚œì´ë„:** ${diffDesc[state.difficulty]}
${state.context ? `- **ë¶„ì•¼/ì»¨í…ìŠ¤íŠ¸:** ${state.context}` : ''}
${fieldsSection}

## í‘œì‹œ ë°©ì‹
- **ëª¨ë“œ:** ${displayDesc[state.displayMode]}
${state.displayMode === 'toggle' || state.displayMode === 'both' ? `
### í† ê¸€ ëª¨ë“œ ìƒì„¸
- ìƒë‹¨ì— ì–¸ì–´ íƒ­ ë²„íŠ¼ (${state.languages.map(l => langLabels[l].flag + ' ' + l.toUpperCase()).join(' | ')})
- íƒ­ í´ë¦­ ì‹œ ì„œì‹ ì „ì²´ê°€ í•´ë‹¹ ì–¸ì–´ë¡œ ì „í™˜
- í˜„ì¬ ì„ íƒ ì–¸ì–´ íƒ­ í•˜ì´ë¼ì´íŠ¸
- ë¶€ë“œëŸ¬ìš´ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ (fade)` : ''}
${state.displayMode === 'vertical' || state.displayMode === 'both' ? `
### ë²„í‹°ì»¬ ëª¨ë“œ ìƒì„¸
- ê° í•„ë“œ(í–‰)ë§ˆë‹¤ ì„ íƒëœ ëª¨ë“  ì–¸ì–´ë¥¼ ì„¸ë¡œë¡œ ë‚˜ì—´
- í•„ë“œëª… ì˜†ì— ì–¸ì–´ ì½”ë“œ í‘œì‹œ (EN, KR, JP ë“±)
- ê°™ì€ í•„ë“œì˜ ë‹¤êµ­ì–´ í‘œí˜„ì´ í•œëˆˆì— ë³´ì´ëŠ” êµ¬ì¡°
- ê·¸ë¦¬ë“œ ë˜ëŠ” í…Œì´ë¸” í˜•íƒœë¡œ ì •ë ¬` : ''}

## ê¸°ëŠ¥ ì˜µì…˜
${state.fillable ? `- **ì¸í„°ë™í‹°ë¸Œ ë¹ˆì¹¸:** ê° í•„ë“œì— ì§ì ‘ ì…ë ¥ ê°€ëŠ¥í•œ input ì œê³µ. ì—°ìŠµìš©.` : '- ì¸í„°ë™í‹°ë¸Œ ë¹ˆì¹¸: ë¯¸ì ìš© (ì½ê¸° ì „ìš©)'}
${state.glossary ? `- **ìš©ì–´ í•´ì„¤ íˆ´íŒ:** ì „ë¬¸ ìš©ì–´ì— ë°‘ì¤„ í‘œì‹œ, í„°ì¹˜/í˜¸ë²„ ì‹œ ëœ»ê³¼ ì‚¬ìš© ë§¥ë½ íŒì—…` : '- ìš©ì–´ í•´ì„¤ íˆ´íŒ: ë¯¸ì ìš©'}
${state.pronunciation ? `- **ë°œìŒ ê°€ì´ë“œ:** ì¼ë³¸ì–´ëŠ” í›„ë¦¬ê°€ë‚˜(ruby), ì¤‘êµ­ì–´ëŠ” ë³‘ìŒ(pinyin), ì•„ëì–´ëŠ” ìŒì—­ í‘œì‹œ` : '- ë°œìŒ ê°€ì´ë“œ: ë¯¸ì ìš©'}
${state.sampleData ? `- **ìƒ˜í”Œ ë°ì´í„°:** í˜„ì‹¤ì ì¸ ì˜ˆì‹œ ë°ì´í„°ë¡œ ë¹ˆì¹¸ì„ ë¯¸ë¦¬ ì±„ìš´ ìƒíƒœ ì œê³µ (í¸ì§‘ ê°€ëŠ¥)` : '- ìƒ˜í”Œ ë°ì´í„°: ë¯¸í¬í•¨ (ë¹ˆ ì„œì‹)'}

## ê¸°ìˆ  ì‚¬ì–‘
- **ë‹¨ì¼ HTML íŒŒì¼** (ì¸ë¼ì¸ CSS/JS, ì™¸ë¶€ ì˜ì¡´ì„± ì—†ìŒ)
- **ë°”ë‹ë¼ JS/CSSë§Œ** (í”„ë ˆì„ì›Œí¬ ê¸ˆì§€)
- **ëª¨ë°”ì¼ í¼ìŠ¤íŠ¸ ë°˜ì‘í˜•** (í•¸ë“œí°ì—ì„œ í•™ìŠµ)
- **Google Fonts CDN í—ˆìš©** (Noto Sans KR, Noto Sans JP ë“± ë‹¤êµ­ì–´ í°íŠ¸)
${state.tistory ? `
## í‹°ìŠ¤í† ë¦¬/ë¸”ë¡œê·¸ í˜¸í™˜ ëª¨ë“œ
- Service Worker, localStorage ë¯¸ì‚¬ìš©
- document.write, eval ë¯¸ì‚¬ìš©
- ìµœì†Œí•œì˜ JSë§Œ (DOM ì¡°ì‘ ìˆ˜ì¤€)
- í‹°ìŠ¤í† ë¦¬ HTML ëª¨ë“œì— ë¶™ì—¬ë„£ê¸° ê°€ëŠ¥í•œ êµ¬ì¡°
- script íƒœê·¸ëŠ” body ëì— ë°°ì¹˜` : ''}

## ë””ìì¸
- ë‹¤í¬ ëª¨ë“œ ë°°ê²½ (#0a0a0a)
- ì—ë©”ë„ë“œ ê·¸ë¦° ì•¡ì„¼íŠ¸ (#10b981)
- ì–¸ì–´ë³„ ìƒ‰ìƒ êµ¬ë¶„ (ê° ì–¸ì–´ íƒ­ì— ê³ ìœ  ìƒ‰ìƒ)
- ì„œì‹ ì˜ì—­ì€ ì‹¤ì œ ì„œë¥˜ ëŠë‚Œ (ì•½ê°„ ë°ì€ ë°°ê²½, í…Œë‘ë¦¬)
- í•„ë“œ ë ˆì´ë¸”ê³¼ ì…ë ¥ ì˜ì—­ ëª…í™•íˆ êµ¬ë¶„
- í„°ì¹˜ ì¹œí™”ì  (ìµœì†Œ 44px í„°ì¹˜ íƒ€ê²Ÿ)

## ì»¬ëŸ¬ íŒ”ë ˆíŠ¸ ì œì•ˆ
\`\`\`css
--bg: #0a0a0a;
--form-bg: #1a1a1a;
--field-bg: #242424;
--text: #f0f0f0;
--accent: #10b981;
--lang-en: #3b82f6;
--lang-ko: #ef4444;
--lang-ja: #f59e0b;
--lang-zh: #ec4899;
--lang-es: #f97316;
--lang-fr: #6366f1;
--lang-de: #8b5cf6;
--lang-ar: #14b8a6;
\`\`\`

${state.requirements ? `## ì¶”ê°€ ìš”êµ¬ì‚¬í•­
${state.requirements}` : ''}

---

ìœ„ ì‚¬ì–‘ì— ë§ì¶° ì™„ì „í•œ HTML íŒŒì¼ì„ ìƒì„±í•´ì£¼ì„¸ìš”.
ì„œì‹ì˜ ê° í•„ë“œë¥¼ ì„ íƒëœ ëª¨ë“  ì–¸ì–´ë¡œ ì •í™•í•˜ê²Œ ë²ˆì—­í•˜ê³ ,
ì „ë¬¸ ìš©ì–´ëŠ” í•´ë‹¹ ì–¸ì–´ì˜ ì‹¤ë¬´ì—ì„œ ì‹¤ì œë¡œ ì‚¬ìš©ë˜ëŠ” í‘œí˜„ìœ¼ë¡œ ì‘ì„±í•´ì£¼ì„¸ìš”.
`;

  document.getElementById('outputPrompt').textContent = prompt;
  document.getElementById('outputSection').style.display = 'block';
  document.getElementById('outputSection').scrollIntoView({ behavior: 'smooth' });

  document.querySelectorAll('.step').forEach((s, i) => {
    s.classList.toggle('active', i <= 3);
  });
}

function copyPrompt() {
  const text = document.getElementById('outputPrompt').textContent;
  navigator.clipboard.writeText(text).then(() => {
    const btn = event.target;
    const orig = btn.textContent;
    btn.textContent = 'ë³µì‚¬ë¨!';
    setTimeout(() => btn.textContent = orig, 1500);
  });
}

function openClaude() {
  window.open('https://claude.ai/new', '_blank');
}

// Init
updatePreview();
</script>
</body>
</html>
