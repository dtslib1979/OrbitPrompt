# 공통 계약: 에러 처리

> 모든 PHL 토큰 실행 시 이 규칙을 따른다.

## 원칙

1. **에러는 삼키지 않는다.** 빈 catch 블록 금지.
2. **에러 메시지에 컨텍스트를 포함한다.** "Error" 한 줄은 무의미.
3. **에러 전파 경로를 명확히 한다.** 어디서 잡고 어디로 전달하는지.

## 필수 포맷

```
에러 메시지 = [WHERE] + [WHAT] + [INPUT] + [WHY]
```

예시:
```
"[parseConfig] Failed to parse JSON: input='null', reason='Unexpected token'"
```

## 전략

| 상황 | 전략 |
|------|------|
| 외부 API 호출 실패 | 재시도(최대 3회) → 실패 시 에러 반환 |
| 파일 읽기 실패 | 에러 반환 (묵시적 무시 금지) |
| 사용자 입력 오류 | 명시적 에러 메시지 + 올바른 형식 안내 |
| 내부 로직 불일치 | 로그 + 에러 반환 (assert 대신 명시적 검증) |

## 금지

- 빈 `catch {}` 블록
- `console.log(err)` 후 계속 진행
- 에러를 `null`/`undefined`로 변환하여 반환
- 에러 메시지 없는 `throw new Error()`
